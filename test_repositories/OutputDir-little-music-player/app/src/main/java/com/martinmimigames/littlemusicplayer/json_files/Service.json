{"file":{"path":"C:\\Users\\nandi\\OneDrive\\Documents\\4th year\\CS4099 - Dissertation\\Dissertation\\inspect4j\\test_repositories\\little-music-player\\app\\src\\main\\java\\com\\martinmimigames\\littlemusicplayer\\Service.java","fileNameBase":"Service","extension":"java","doc":"service for playing music"},"dependencies":[{"from_package":"android.annotation","import":"SuppressLint","type":"external","type_element":"class/interface"},{"from_package":"android.content","import":"Intent","type":"external","type_element":"class/interface"},{"from_package":"android.content.pm","import":"ServiceInfo","type":"external","type_element":"class/interface"},{"from_package":"android.net","import":"Uri","type":"external","type_element":"class/interface"},{"from_package":"android.os","import":"Build","type":"external","type_element":"class/interface"},{"from_package":"android.os","import":"IBinder","type":"external","type_element":"class/interface"},{"from_package":"javax.net.ssl","import":"HttpsURLConnection","type":"external","type_element":"class/interface"},{"from_package":"javax.net.ssl","import":"SSLHandshakeException","type":"external","type_element":"class/interface"},{"from_package":"java.io","import":"IOException","type":"external","type_element":"class/interface"},{"from_package":"java.net","import":"MalformedURLException","type":"external","type_element":"class/interface"},{"from_package":"java.net","import":"URL","type":"external","type_element":"class/interface"},{"from_package":"java.util","import":"ArrayList","type":"external","type_element":"class/interface"},{"from_package":"java.util","import":"Iterator","type":"external","type_element":"class/interface"},{"from_package":"java.util.concurrent.atomic","import":"AtomicReference","type":"external","type_element":"class/interface"}],"classes":{"Service":{"doc":"service for playing music","access_modifier":"public","non_access_modifiers":["none"],"extend":["android.app.Service"],"implement":["MediaPlayerStateListener"],"min_max_lineno":{"min_lineno":22,"max_lineno":228},"store_vars_calls":{"hwListener":"HWListener","notifications":"Notifications","playlist":"Playlist"},"methods":[{"Service":{"access_modifier":"public","non_access_modifiers":["none"],"return_type":"void","min_max_lineno":{"min_lineno":31,"max_lineno":35}}},{"onBind":{"doc":"unused","access_modifier":"public","non_access_modifiers":["none"],"args":["intent"],"arg_types":{"intent":"Intent"},"return_type":"IBinder","returns":["null"],"min_max_lineno":{"min_lineno":40,"max_lineno":43}}},{"onCreate":{"doc":"setup","access_modifier":"public","non_access_modifiers":["none"],"return_type":"void","min_max_lineno":{"min_lineno":48,"max_lineno":54},"calls":["hwListener.create","notifications.create","super.onCreate"]}},{"onStart":{"doc":"startup logic","access_modifier":"public","non_access_modifiers":["none"],"args":["startId","intent"],"arg_types":{"startId":"int","intent":"Intent"},"return_type":"void","min_max_lineno":{"min_lineno":59,"max_lineno":89},"calls":["intent.getAction","intent.getByteExtra","setState","setState","setState","setState","playNextEntry","stopSelf","playlist.clear","intent.getAction","playlist.generate","intent.getData","playlist.generate","intent.getStringExtra","Uri.parse","intent.getStringExtra","intent.getParcelableExtra","playlist.generate","intent.getParcelableArrayListExtra","playEntryFromPlaylist"],"store_vars_calls":{"iterator":"playlist.iterator","isPLaying":"audioPlayer.isPlaying","isLooping":"audioPlayer.isLooping"}}},{"getStreamUri":{"doc":"Get a audio stream url. Returns https if available.\r\nCurrently does not support self-signed certificate.. [tags = [@PARAM param url of audio, @RETURN return original url or https url if available ]","access_modifier":"default","non_access_modifiers":["none"],"args":["location"],"arg_types":{"location":"Uri"},"return_type":"Uri","returns":["location","Uri.parse(urlLocation.get())"],"min_max_lineno":{"min_lineno":98,"max_lineno":121},"calls":["location.toString().startsWith","location.toString","location.toString","urlLocation.get().substring","urlLocation.get","url.openConnection","connection.connect","urlLocation.set","connection.disconnect","t.start","t.join","Uri.parse","urlLocation.get"],"store_vars_calls":{"urlLocation":"AtomicReference<>","t":"Thread","url":"URL"},"lambdas":[{"body":"{\r\n    try {\r\n        var https = \"https://\" + urlLocation.get().substring(7);\r\n        var url = new URL(https);\r\n        var connection = (HttpsURLConnection) url.openConnection();\r\n        connection.connect();\r\n        urlLocation.set(https);\r\n        connection.disconnect();\r\n    } catch (SSLHandshakeException ignored) {\r\n    } catch (MalformedURLException ignored) {\r\n    } catch (IOException ignored) {\r\n    }\r\n}","min_max_lineno":{"min_lineno":102,"max_lineno":114}}]}},{"playEntryFromPlaylist":{"access_modifier":"private","non_access_modifiers":["none"],"return_type":"void","min_max_lineno":{"min_lineno":123,"max_lineno":159},"calls":["\"http\".equals","entry.location.getScheme","\"http\".equals","entry.location.getScheme","Exceptions.throwError","audioPlayer.start","notifications.getNotification","iterator.hasNext","startForeground","startForeground","Exceptions.throwError","playOrDestroy","Exceptions.throwError","playOrDestroy","Exceptions.throwError","playOrDestroy","Exceptions.throwError","playOrDestroy"],"store_vars_calls":{"entry.location":"getStreamUri","audioPlayer":"AudioPlayer","entry":"iterator.next"}}},{"playOrDestroy":{"access_modifier":"public","non_access_modifiers":["none"],"return_type":"void","min_max_lineno":{"min_lineno":161,"max_lineno":164},"calls":["playNextEntry","onMediaPlayerDestroy"]}},{"setState":{"access_modifier":"public","non_access_modifiers":["none"],"args":["looping","playing"],"arg_types":{"looping":"boolean","playing":"boolean"},"return_type":"void","min_max_lineno":{"min_lineno":166,"max_lineno":171},"calls":["audioPlayer.setState","hwListener.setState","notifications.setState"]}},{"onStartCommand":{"doc":"forward to startup logic for newer androids","access_modifier":"public","non_access_modifiers":["none"],"args":["startId","flags","intent"],"arg_types":{"startId":"int","flags":"int","intent":"Intent"},"return_type":"int","returns":["START_STICKY"],"min_max_lineno":{"min_lineno":176,"max_lineno":181},"calls":["onStart"]}},{"onMediaPlayerReset":{"access_modifier":"public","non_access_modifiers":["none"],"return_type":"void","min_max_lineno":{"min_lineno":183,"max_lineno":189},"calls":["notifications.onMediaPlayerReset","hwListener.onMediaPlayerReset","audioPlayer.onMediaPlayerReset"]}},{"onMediaPlayerDestroy":{"access_modifier":"public","non_access_modifiers":["none"],"return_type":"void","min_max_lineno":{"min_lineno":191,"max_lineno":195},"calls":["stopSelf"]}},{"playNextEntry":{"access_modifier":"default","non_access_modifiers":["none"],"return_type":"boolean","returns":["true","false"],"min_max_lineno":{"min_lineno":197,"max_lineno":204},"calls":["iterator.hasNext","onMediaPlayerReset","playEntryFromPlaylist"]}},{"onMediaPlayerComplete":{"doc":"destroy on playback complete","access_modifier":"default","non_access_modifiers":["none"],"return_type":"void","min_max_lineno":{"min_lineno":209,"max_lineno":212},"calls":["playNextEntry","onMediaPlayerDestroy"]}},{"onDestroy":{"doc":"service killing logic","access_modifier":"public","non_access_modifiers":["none"],"return_type":"void","min_max_lineno":{"min_lineno":217,"max_lineno":227},"calls":["onMediaPlayerReset","notifications.onMediaPlayerDestroy","hwListener.onMediaPlayerDestroy","audioPlayer.onMediaPlayerDestroy","playlist.clear","super.onDestroy"]}}]}}}